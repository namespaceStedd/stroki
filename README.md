# Добро пожаловать в сокращение URL!
Данное приложение было написано в следующем стеке технологий:
1. Инструментарий, использующий спецификацию OpenAPI: [Swagger](https://swagger.io/).
2. Набор инструментов для контроля доступа к ресурсам и аутентификации: HTTP Basic Authentication.
3. Свободная реляционная система управления базами данных: [MySQL](https://www.mysql.com/).

# Инструкция по настройке.
Для того, чтобы использовать приложение, необходимо настроить локальный хостинг MySQL, к примеру, используя СУБД [phpMyAdmin](https://www.phpmyadmin.net/). В своём проекте я использовал сборку веб-сервера на основе Apache: [Wamp Server](https://www.wampserver.com/). После запуска сборки веб-сервера, по умолчанию MySQL находится на порту 3306.
Откройте файл $${\color{lightblue}\stroki\src\main\resources\}$$ $${\color{blue}application.properties}$$, чтобы изменить некоторые строки для доступа к базе данных. Параметры, которые можно изменить:
- Параметр для указания пути к базе данных: $${\color{green}spring.datasource.url=}$$ Протоколы $${\color{lightgreen}jdbc:mysql://}$$ оставьте по умолчанию. Поменяйте домен $${\color{lightgreen}localhost:3306/}$$, если адрес порта отличается от вашего - замените на свои цифры, если же база данных находится на сервере - то необходимо указать путь до неё. Наконец, замените путь к странице $${\color{lightgreen}stroki}$$, указав существующую базу данных на вашем хостинге/сервере. Затем импортируйте структуру таблиц из файла $${\color{lightblue}\stroki\src\main\resources\}$$ $${\color{blue}stroki.sql}$$ в вашей СУБД.
- Параметр указания имени пользователя для доступа к базе данных: $${\color{green}spring.datasource.username=}$$ Укажите вашего пользователя после знака "=".
- Параметр указания пароля для доступа к базе данных для того пользователя, что был указан выше: $${\color{green}spring.datasource.password=}$$
- Остальные параметры изменений не требуют.
После настройки приложения можно запускать проект в своей IDE, а затем перейти [по ссылке для доступа к Swagger](http://localhost:8080/swagger-ui.html).

# Инструкция по эксплуатации.
## Работа с пользователем
находится во вкладке *"authorization"*.
- Регистрация пользователя (вкладка **"Авторизация"**). На данной вкладке пользователь авторизуется в системе. Большинство функций доступны только тем пользователям, которые авторизовались. При вводе пользователя и пароля, если он ещё не зарегистрирован - происходит регистрация. Если зарегистрирован и пароль подходит - пользователь входит в систему.
- Получение информации о текущем авторизованном пользователе (вкладка **"Информация об авторизованном пользователе"**). На данной вкладке отображается имя авторизованного пользователя и его пароль в виде звёздочек длиной исходного пароля.
## Короткие ссылки пользователя
находится во вкладке *"url"*.
-	Создание новой короткой ссылки (вкладка **"Создание короткой ссылки"**). Здесь пользователь заводит URL-адрес, которых хотел бы сократить. Если данный URL уже сокращён, то система уведомит и выведет уже сгенерированную короткую ссылку.
-	Получение всех созданных коротких ссылок пользователя (вкладка **"Получение ссылок пользователя"**). Выводит все сгенерированные короткие ссылки авторизованного пользователя.
-	Получение информации о конкретной короткой ссылке пользователя (вкладка **"Получение информации о короткой ссылке пользователя"**). При вводе короткой ссылки, система выводит информацию по ней, если ссылка была сгенерирована авторизованным пользователем.
- Удаление короткой ссылки пользователя (вкладка **"Удаление короткой ссылки"**). Удаляет информацию по короткой ссылке, если авторизованный пользователь её создавал.
## Статистика по ссылкам
находится во вкладке *"stats"*.
-	Получение временного графика количества переходов с группировкой по дням, часам, минутам (вкладка **"Получение временного графика"**). При вводе короткой или исходной ссылки и вводе одного из показателя времени (дословно, "дням", "часам", "минутам"), выводится график с соответствующей группировкой.
-	Получение топа из 20 сайтов источников переходов (вкладка **"Получение топ-20 переходов"**). Из общей таблицы коротких ссылок выбираются топ-20 и выводятся в формате "Ссылка: количество переходов" от большего к меньшему по количеству переходов.
## Ссылки
находится во вкладке *"redirect"*.
-	Получение редиректа на полный url по короткой ссылке (вкладка **"Редирект на полный URL"**). При нажатии на вкладку, происходило бы перенаправление по сопоставленной ссылке, однако CORS-стандарт никак мне не даёт это сделать.
**В связи с этим прошу помощи сообщества разобраться с этим, поскольку я перепробовал массу вариантов и ни один из них или из их сочетаний не работали. Самые рабочие нерабочие примеры (работающие именно при переходе из строки браузера, но не по нажатию кнопки), находятся во вкладке *"example-not-worked-redirect"***
